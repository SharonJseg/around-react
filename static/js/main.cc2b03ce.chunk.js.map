{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","images/add.svg","images/profile_image.png","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","isLikedButtonClassName","onClick","onCardDelete","type","onCardClick","link","name","onCardLike","length","Main","onEditAvatarClick","avatar","imagePlaceHolder","onEditProfileClick","about","onAddPlaceClick","addIcn","cards","map","cardElement","Footer","PopupWithForm","isOpen","onClose","onSubmit","titleModifier","title","children","submitModifier","EditProfilePopup","useState","description","setDescription","setName","useEffect","evt","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","minLength","maxLength","required","pattern","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","onAddPlaceSubmit","url","ImagePopup","api","headers","this","_url","_headers","Promise","all","getInitialCards","getUserInfo","res","ok","json","reject","status","statusText","fetch","method","then","_handleResponse","userInfo","body","JSON","stringify","data","card_id","authorization","App","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCards","getAllInfo","cardArray","catch","err","console","log","closeAllPopups","Provider","changeLikeCardStatus","newCard","c","deleteCard","filter","item","updateUserImage","updateUserInfo","updateUserDetails","place","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc2b03ce.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/logo.c7581985.svg\";","import logo from '../images/logo.svg';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className='header'>\r\n      <img src={logo} alt='Around the U.S logo' className='logo' />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nconst Card = (props) => {\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = `card__delete-button ${\r\n    isOwn ? '' : 'card__delete-button_hidden'\r\n  }`;\r\n  const isLikedButtonClassName = `card__like-button ${\r\n    isLiked ? 'card__like-button_active' : ''\r\n  }`;\r\n\r\n  return (\r\n    <li className='card__container'>\r\n      <article className='card'>\r\n        <button\r\n          onClick={handleDeleteClick}\r\n          className={cardDeleteButtonClassName}\r\n          type='button'\r\n          aria-label='delete image'\r\n        />\r\n        <img\r\n          onClick={handleClick}\r\n          className='card__image'\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        />\r\n        <div className='card__caption'>\r\n          <h2 className='card__name'>{props.card.name}</h2>\r\n          <div className='card__like-container'>\r\n            <button\r\n              onClick={handleLikeClick}\r\n              className={isLikedButtonClassName}\r\n              type='button'\r\n              aria-label='like button'\r\n            />\r\n            <p className='card__likes'>{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/add.bed8c136.svg\";","export default __webpack_public_path__ + \"static/media/profile_image.ddf5330b.png\";","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nimport addIcn from '../images/add.svg';\r\nimport imagePlaceHolder from '../images/profile_image.png';\r\n\r\nconst Main = (props) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className='profile'>\r\n        <div className='profile__image-container'>\r\n          <button\r\n            onClick={props.onEditAvatarClick}\r\n            type='button'\r\n            aria-label='edit image button'\r\n            className='profile__image-edit'\r\n          />\r\n          <img\r\n            src={currentUser.avatar ? currentUser.avatar : imagePlaceHolder}\r\n            alt='Jacques Cousteau '\r\n            className='profile__image'\r\n          />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__info-edit'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button\r\n              onClick={props.onEditProfileClick}\r\n              type='button'\r\n              aria-label='edit profile button'\r\n              className='profile__edit-btn'\r\n            />\r\n          </div>\r\n          <p className='profile__job'>{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          onClick={props.onAddPlaceClick}\r\n          className='profile__add-element-btn'\r\n          type='button'\r\n          aria-label='add picture button'\r\n        >\r\n          <img className='profile-icon' src={addIcn} alt='add element button' />\r\n        </button>\r\n      </section>\r\n\r\n      <section className='cards'>\r\n        <ul className='cards__container'>\r\n          {props.cards.map((cardElement) => (\r\n            <Card\r\n              key={cardElement._id}\r\n              card={cardElement}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","const Footer = () => {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>Â© 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","const PopupWithForm = (props) => {\r\n  return (\r\n    <div\r\n      className={`modal modal_type_${props.name} ${\r\n        props.isOpen ? 'modal_opened' : ''\r\n      }`}\r\n    >\r\n      <div className='modal__container'>\r\n        <button\r\n          onClick={props.onClose}\r\n          type='button'\r\n          aria-label='Close button'\r\n          className='modal__close-btn'\r\n        />\r\n        <form onSubmit={props.onSubmit} name={props.name} className='form'>\r\n          <fieldset className='form__fieldset'>\r\n            <legend>\r\n              {props.titleModifier ? (\r\n                <h2 className={`form__heading ${props.titleModifier}`}>\r\n                  {props.title}\r\n                </h2>\r\n              ) : (\r\n                <h2 className='form__heading'>{props.title}</h2>\r\n              )}\r\n            </legend>\r\n            {props.children}\r\n            {props.submitModifier ? (\r\n              <button className={`form__submit-btn ${props.submitModifier}`}>\r\n                Yes\r\n              </button>\r\n            ) : (\r\n              <button className='form__submit-btn'>Save</button>\r\n            )}\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nconst EditProfilePopup = (props) => {\r\n  const [description, setDescription] = useState('');\r\n  const [name, setName] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleNameChange = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const handleDescriptionChange = (evt) => {\r\n    setDescription(evt.target.value);\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='edit-profile'\r\n      title='Edit Profile'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n        type='text'\r\n        name='name'\r\n        id='name'\r\n        placeholder='Name'\r\n        className='form__text-input form__text-input_type_name'\r\n        minLength='2'\r\n        maxLength='40'\r\n        required\r\n        pattern='.*\\S.*'\r\n      />\r\n      <span className='form__validation-error form__validation-error_type_name'></span>\r\n      <input\r\n        value={description || ''}\r\n        onChange={handleDescriptionChange}\r\n        type='text'\r\n        name='job'\r\n        id='job'\r\n        placeholder='Job'\r\n        className='form__text-input form__text-input_type_job'\r\n        minLength='2'\r\n        maxLength='200'\r\n        required\r\n        pattern='.*\\S.*'\r\n      />\r\n      <span className='form__validation-error form__validation-error_type_job'></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst EditAvatarPopup = (props) => {\r\n  const avatar = useRef('');\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatar.current.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='edit-image'\r\n      title='Change profile picture'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={avatar}\r\n        type='url'\r\n        name='avatar'\r\n        id='avatar'\r\n        placeholder='Add image url'\r\n        className='form__text-input form__text-input_type_avatar'\r\n        required\r\n      />\r\n      <span className='form__validation-error form__validation-error_type_avatar'></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport { useState } from 'react';\r\n\r\nconst AddPlacePopup = (props) => {\r\n  const [title, setTitle] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const handleTitleChange = (evt) => {\r\n    setTitle(evt.target.value);\r\n  };\r\n\r\n  const handleLinkChange = (evt) => {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlaceSubmit({\r\n      title,\r\n      url: link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='add-place'\r\n      title='New Place'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        onChange={handleTitleChange}\r\n        type='text'\r\n        name='title'\r\n        id='title'\r\n        placeholder='Title'\r\n        className='form__text-input form__text-input_type_title'\r\n        minLength='1'\r\n        maxLength='30'\r\n        required\r\n        pattern='.*\\S.*'\r\n      />\r\n      <span className='form__validation-error form__validation-error_type_title'></span>\r\n      <input\r\n        onChange={handleLinkChange}\r\n        type='url'\r\n        name='url'\r\n        id='url'\r\n        placeholder='Image link'\r\n        className='form__text-input form__text-input_type_url'\r\n        required\r\n      />\r\n      <span className='form__validation-error form__validation-error_type_url'></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","const ImagePopup = (props) => {\r\n  return (\r\n    <div\r\n      className={`modal modal_type_image ${\r\n        props.card.name ? 'modal_opened' : ''\r\n      }`}\r\n    >\r\n      <div className='modal__container modal__container_image'>\r\n        <button\r\n          onClick={props.onClose}\r\n          type='button'\r\n          aria-label='Close button'\r\n          className='modal__close-btn'\r\n        />\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className='modal__image'\r\n        />\r\n        <h2 className='modal__title'>{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getAllInfo() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`${res.status}: ${res.statusText}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  updateUserInfo(userInfo) {\r\n    const { name, about } = userInfo;\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  updateUserImage(avatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  addNewCard(data) {\r\n    const { title, url } = data;\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: title,\r\n        link: url,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(card_id) {\r\n    return fetch(`${this._url}/cards/${card_id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(card_id, isLiked) {\r\n    return fetch(`${this._url}/cards/likes/${card_id}`, {\r\n      method: !isLiked ? 'DELETE' : 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://around.nomoreparties.co/v1/group-12',\r\n  headers: {\r\n    authorization: '9dab4619-413b-4914-b4f4-ee6c3c0ed983',\r\n    'content-type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import '../index.css';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport { useEffect, useState } from 'react';\r\nimport api from '../utils/api';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getAllInfo()\r\n      .then(([cardArray, userInfo]) => {\r\n        setCards(cardArray);\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const handleAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (props) => {\r\n    setSelectedCard(props);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((cards) =>\r\n          cards.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleDeleteCard = (card) => {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter((item) => item._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleUpdateUser = (userInfo) => {\r\n    api\r\n      .updateUserInfo(userInfo)\r\n      .then((updateUserDetails) => {\r\n        setCurrentUser(updateUserDetails);\r\n      })\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleUpdateAvatar = ({ avatar }) => {\r\n    api\r\n      .updateUserImage(avatar)\r\n      .then((updateUserImage) => {\r\n        setCurrentUser(updateUserImage);\r\n      })\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (place) => {\r\n    api\r\n      .addNewCard(place)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .then(() => {\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <div className='page__container'>\r\n      <Header />\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Main\r\n          onEditAvatarClick={handleAvatarClick}\r\n          onEditProfileClick={handleEditProfileClick}\r\n          onAddPlaceClick={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleDeleteCard}\r\n        />\r\n        <Footer />\r\n\r\n        <PopupWithForm\r\n          name='delete-card'\r\n          title='Are you sure?'\r\n          titleModifier='form__heading_type_delete-card'\r\n          submitModifier='form__submit-btn_type_delete-card'\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlaceSubmit={handleAddPlaceSubmit}\r\n        />\r\n\r\n        {selectedCard && (\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        )}\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}